<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>JAFRA - What Took You So Long?</title>
    <link rel="icon" type="image/png" href="./resources/favicon.ico">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');

        html,
        body {
            position: relative;
            height: 100%;
            width: 100%;
            box-sizing: border-box;
            margin: 0;
        }

        /* *{
            font-family: 'Lato', sans-serif;
        } */
        .swiper-button-next,
        .swiper-button-prev {
            color: white !important;
        }

        .logo-nav {
            max-width: 60px;
            z-index: 9;
            position: absolute;
            margin: 50px;
        }

        #btn-share {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: transparent !important;
            z-index: 3;
            font-family: 'Lato', sans-serif !important;
            border-radius: 0% !important;
            text-align: center;
            margin-right: 70px;
            font-size: 14px;
            color: #fac553 !important;
            border: 2px #fac553 solid !important;
            padding: 15px 70px 15px 70px;
            display: none;
        }

        #modal-share .modal-header .close {
            position: absolute;
            top: 15px;
            right: 15px;
        }

        #modal-share .modal-title {
            padding-right: 20px;
            padding-left: 20px;
        }

        #modal-share li {

            color: transparent;
        }

        #modal-share li a {
            text-transform: uppercase;
            color: #fff;
            font-weight: 700;
            width: 100%;
            max-width: 300px;
            list-style: none;
        }

        #modal-share li a.btn-facebook {
            background: #3b5998;
            list-style: none;

        }

        #modal-share li a.btn-twitter {
            background: #00acee;
            list-style: none;
        }

        #modal-share li a.btn-linkedin {
            background: #0e76a8;
            list-style: none;
        }

        #modal-share li a.btn-email {
            background: #ddd;
            color: transparent;
            list-style: none;
        }

        ul {
            list-style-type: none;

        }

        .modal-header {
            flex-direction: column;
            margin: 0 auto;
            align-items: inherit !important;
            height: 380px !important;
            border-bottom: transparent !important;
        }

        .modal-content {
            width: 110% !important;
            margin: 0 auto;
            background-color: transparent !important;
            height: 320px;
            border: none !important;
        }

        #mobile {
            z-index: 8;
            position: absolute;
            top: 0;
            width: 100vw;
            display: none;
        }

        .modal-title {
            color: white;
        }

        #select-this {
            width: 300px !important;
            padding: 4px;
        }

        .wrapper {
            margin-left: auto;
        }

        #clickMe {
            background-color: #fac553;
            border: none;
            padding: 5px;
        }

        .modal-dialog {
            margin-top: 170px !important;
        }

        .close {
            color: white !important;
        }

        #next,
        #prev {
            margin: auto 3%;
        }

        #share-fixed {
            position: absolute;
            bottom: 3%;
            right: 3%;
            z-index: 6;
            border: none;
        }

        #logo-share {
            max-width: 50px !important;

        }

        .navbar-nav {
            flex-wrap: wrap !important;
            width: 400px !important;
        }

        :root {
            --swiper-theme-color: #fac553 !important;
        }


        .swiper-pagination-bullet {
            width: 4.5% !important;
            border-radius: 0% !important;

        }

        .swiper-pagination {
            top: 5px !important;
            height: 25px !important;
        }
        #firstOverlay{
            display: flex;
            flex-direction: column;
            align-content: center;
            background-color: rgba(33, 33, 33, 0.7);
            z-index: 8 !important;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
            text-align: center;
            height: 100vh;
            padding-top: 25%;
            display: none;
        }
        #firstOverlay *{
        font-family: 'Lato', sans-serif !important;
        color: #fac553 ;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://unpkg.com/popper.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
</head>

<body>
    </header>
    <img id="mobile" src="./resources/rotate-D.png" alt="rotate">
    <a href="https://www.whattookyousolong.org"><img class="logo-nav" src="./resources/Logo.png" alt="image"></a>
    <a href="#" class="btn btn-primary" id="btn-share" data-modal-title="Share the Jafra experience"
        data-facebook-label="Share on Facebook" data-twitter-label="Share on Twitter" data-twitter-text="Twitter Text"
        data-linkedin-label="Share on LinkedIn" data-linkedin-title="LinkedIn Title"
        data-linkedin-summary="LinkedIn Summary" data-email-label="Share via Email"
        data-email-subject="Email Subject">SHARE</a>

    <a id="share-fixed"><img id="logo-share" src="./resources/sharebtn.png" alt=""></a>
    <!-- Swiper -->
    <div id="firstOverlay"><h1>Welcome to the Jafra experience</h1> 
        <h4>Navigate through the story clicking on the arrows  </h4></div>
    <div class="swiper-container" style="height:100vh;">
        <div class="swiper-wrapper">

            <div class="swiper-slide">

                <iframe id="player" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ud7rt"></iframe>
                <div class="swiper-lazy-preloader" id="preloader"> </div>
                
            </div>

            <div class="swiper-slide"><iframe id="player2" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubyle"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player3" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubyqo"></iframe>

            </div>
            <div class="swiper-slide"><iframe id="player4" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubys8"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player5" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubytz"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player6" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubz0g"></iframe>

            </div>
            <div class="swiper-slide"><iframe id="player7" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubz0s"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player8" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubz1z"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player9" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubz28"></iframe>

            </div>
            <div class="swiper-slide"><iframe id="player10" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubz2q"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player11" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7ubza3"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player12" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc4ml"></iframe>

            </div>
            <div class="swiper-slide"><iframe id="player13" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc4vz"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player14" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc4w1"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player15" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc540"></iframe>

            </div>
            <div class="swiper-slide"><iframe id="player16" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc541"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player17" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uc597"></iframe>

            </div>

            <div class="swiper-slide"><iframe id="player18" frameborder="0" width="100%" height="100%"
                    src="https://www.dailymotion.com/embed/video/x7uchs8"></iframe>
                <a href="#" class="btn btn-primary" id="btn-share" data-modal-title="Share the Jafra experience"
                    data-facebook-label="Share on Facebook" data-twitter-label="Share on Twitter"
                    data-twitter-text="Twitter Text" data-linkedin-label="Share on LinkedIn"
                    data-linkedin-title="LinkedIn Title" data-linkedin-summary="LinkedIn Summary"
                    data-email-label="Share via Email" data-email-subject="Email Subject">Share</a>

            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next" onclick="nextF()" id="next"></div>
        <div class="swiper-button-prev" onclick="prevF()"  id="prev"></div>
    </div>
    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "90%";
        };

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        };
    </script>
    <script src="https://api.dmcdn.net/all.js"></script>
    <script>
        let next = document.getElementById('next');

        var swiper = new Swiper('.swiper-container', {

            pagination: {
                el: '.swiper-pagination',
                type: 'bullets',
                clickable: true
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            lazy: true
        });


        var player = DM.player(document.getElementById("player"), {
            video: "x7ud7rt",
            width: "100%",
            height: "100%",
            params: {
                controls: false,
                autoplay: true
            }
        });
        var player2 = DM.player(document.getElementById("player2"), {
            video: "x7ubyle",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player3 = DM.player(document.getElementById("player3"), {
            video: "x7ubyqo",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player4 = DM.player(document.getElementById("player4"), {
            video: "x7ubys8",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player5 = DM.player(document.getElementById("player5"), {
            video: "x7ubytz",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player6 = DM.player(document.getElementById("player6"), {
            video: "x7ubz0g",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player7 = DM.player(document.getElementById("player7"), {
            video: "x7ubz0s",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player8 = DM.player(document.getElementById("player8"), {
            video: "x7ubz1z",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player9 = DM.player(document.getElementById("player9"), {
            video: "x7ubz28",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player10 = DM.player(document.getElementById("player10"), {
            video: "x7ubz2q",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player11 = DM.player(document.getElementById("player11"), {
            video: "x7ubza3",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player12 = DM.player(document.getElementById("player12"), {
            video: "x7uc4ml",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player13 = DM.player(document.getElementById("player13"), {
            video: "x7uc4vz",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player14 = DM.player(document.getElementById("player14"), {
            video: "x7uc4w1",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player15 = DM.player(document.getElementById("player15"), {
            video: "x7uc540",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player16 = DM.player(document.getElementById("player16"), {
            video: "x7uc541",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player17 = DM.player(document.getElementById("player17"), {
            video: "x7uc597",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });
        var player18 = DM.player(document.getElementById("player18"), {
            video: "x7uchs8",
            width: "100%",
            height: "100%",
            params: {
                controls: false
            }
        });


        let players = [player, player2, player3, player4, player5, player6, player7, player8, player9, player10,
            player11, player12, player13, player14, player15, player16, player17, player18
        ];


        players.forEach(x => {
            x.addEventListener('video_end', (event) => {
                setTimeout(() => {
                    x.play()
                }, 2000);
            })
        });

        let firstOverlay = document.getElementById('firstOverlay')
        let swiperNav = document.querySelector('.swiper-pagination')

        firstOverlay.addEventListener('click', e=>{
            next.click();
            firstOverlay.style.display = 'none';
        })

        swiperNav.addEventListener('click', e => {
            players.forEach(x => {
                x.pause()
            })
            players[swiper.realIndex].seek(0);
            players[swiper.realIndex].play();
        })

        player.addEventListener('play', e => {
            let preload = document.getElementById('preloader');
            preload.style.display = 'none';
            firstOverlay.style.display = 'block'
        });

        const resetVideos = () => {
            players.forEach(x => {
                x.pause();
            });

            myScript2();
        };

        const nextF = () => {
            resetVideos();

        };
        const prevF = () => {
            resetVideos();

        };
        const myScript2 = () => {

            players[swiper.realIndex].seek(0);
            setTimeout(() => {
                
            players[swiper.realIndex].play();
            }, 200);

        };
    </script>
    <script>
        let btnShare = document.getElementById('btn-share');
        let shareFixed = document.getElementById('share-fixed');

        shareFixed.addEventListener('click', e => {
            btnShare.click()
        });

        $("#btn-share").click(function () {
            var shareHtml = "",
                shareUrl = window.location.href,
                el = $(this),
                shareModalTitle = el.data("modal-title"),
                shareModalDescription = el.data("modal-description"),
                shareFacebookLabel = el.data("facebook-label"),
                shareTwitterLabel = el.data("twitter-label"),
                shareTwitterText = el.data("twitter-text"),
                shareLinkedInLabel = el.data("linkedin-label"),
                shareLinkedInTitle = encodeURIComponent(el.data("linkedin-title")),
                shareLinkedInSummary = encodeURIComponent(el.data("linkedin-summary")),
                shareLinkedInSource = window.location.protocol + "//" + window.location.hostname,
                shareEmailLabel = el.data("email-label"),
                shareEmailSubject = el.data("email-subject");
            document.execCommand('copy', false, 'asd');
            shareHtml +=
                '<div class="modal fade in text-center" id="modal-share" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">' +
                '<div class="modal-dialog">' +
                '<div class="modal-content">' +
                '<div class="modal-header">' +
                '<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>' +
                '<h3 class="modal-title" id="myModalLabel">' + shareModalTitle + '</h3>';

            if (shareModalDescription != undefined) {
                shareHtml += '<p>' + shareModalDescription + '</p>';
            }
            '</div>' +
            '<div class="modal-body">' +
            '<ul class="list-unstyled">';

            if (shareFacebookLabel != undefined) {
                shareHtml += '<li><a href="https://www.facebook.com/sharer/sharer.php?u=' + shareUrl +
                    '" title="' + shareFacebookLabel +
                    '" target="_blank" class="btn btn-facebook"><i class="icon-facebook"></i> ' +
                    shareFacebookLabel + '</a></li>';
            }
            if (shareTwitterLabel != undefined) {
                shareHtml += '<li><a href="https://twitter.com/intent/tweet?text=' + shareTwitterText +
                    '&url=' + shareUrl + '" title="' + shareTwitterLabel +
                    '" target="_blank" class="btn btn-twitter"><i class="icon-twitter"></i> ' +
                    shareTwitterLabel + '</a></li>';
            }
            if (shareLinkedInLabel != undefined) {
                shareHtml += '<li><a href="https://www.linkedin.com/shareArticle?mini=true&url=' + shareUrl +
                    '&title=' + shareLinkedInTitle + '&summary=' + shareLinkedInSummary + '&source=' +
                    shareLinkedInSource + '" title="' + shareLinkedInLabel +
                    '" target="_blank" class="btn btn-linkedin"><i class="icon-linkedin"></i> ' +
                    shareLinkedInLabel + '</a></li>';
            }
            if (shareEmailLabel != undefined) {
                shareHtml += ` <div class="wrapper">
        <input id="select-this" value="https://whattookyousolong.herokuapp.com" />
        <button class="button" onClick="(function()  {document.execCommand('copy', false, document.getElementById('select-this').select()); return false; })();return false;" id="clickMe">📎</button>
    </div> `
            }
            '</ul>' +
            '</div>' +
            '</div>' +
            '</div>' +
            '</div>';

            $("body").append(shareHtml);
            $('#modal-share').modal();
        });
        let mobileImg = document.getElementById('mobile');

        const hideMobileImg = () => {
            setTimeout(() => {
                mobileImg.style.display = "none";
            }, 5000);
        };

        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            setTimeout(() => {
                mobileImg.style.display = "block";
                hideMobileImg()
            }, 100);
        };
    </script>
</body>

</html>